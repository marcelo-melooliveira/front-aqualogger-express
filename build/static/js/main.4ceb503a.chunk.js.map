{"version":3,"sources":["assets/logo ifce_ok.png","store/modules/auth/actions.js","components/HeaderBar/styles.js","components/HeaderBar/index.js","components/Footer/styles.js","components/Footer/index.js","pages/_layouts/default/styles.js","pages/_layouts/default/index.js","routes/Route.js","services/api.js","pages/HomePage/styles.js","pages/HomePage/index.js","pages/ConsumoSemanal/styles.js","pages/ConsumoSemanal/index.js","pages/ConsumoMensal/styles.js","pages/ConsumoMensal/index.js","pages/ConsumoAnual/styles.js","pages/ConsumoAnual/index.js","routes/index.js","services/history.js","store/modules/auth/reducer.js","store/modules/user/reducer.js","store/modules/rootReducer.js","store/modules/auth/sagas.js","store/modules/user/actions.js","store/modules/user/sagas.js","store/modules/rootSaga.js","store/index.js","store/persistReducers.js","store/createStore.js","styles/global.js","App.js","index.js"],"names":["module","exports","signInSuccess","token","user","type","payload","styled","div","HeaderBar","className","style","width","height","src","logo","alt","outline","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","to","Footer","redireciona","window","open","FooterBar","onClick","size","color","paddingLeft","Container","Wrapper","DefaultLayout","children","RouteWrapper","Component","component","rest","isPrivate","Layout","render","props","defaultProps","api","axios","create","baseURL","DadosContainer","GraficoContainer","LoadContainer","InputContainer","DownloadContainer","button","ButtonDownload","darken","registerLocale","pt","HomePage","useState","Date","dataAtual","data_grafico","setDataGrafico","value","setValue","load","setLoad","startDate","setStartDate","finalDate","setFinalDate","loadDownload","setLoadDownload","formata_dados","dados","soma_consumo","console","log","aux_dados","i","length","consumo","push","y","x","parse","data_criacao","toFixed","a","aux_date","format","get","params","date","res","data","alert","download_csv","csv","forEach","row","addHours","parseISO","hiddenElement","document","createElement","href","encodeURI","target","download","click","isBefore","startOfDay","endOfDay","inicial_fomated","final_fomated","data_ref_inicial","data_ref_final","useEffect","ws","Ws","connect","socket_consumo","subscribe","on","dataa","data_fetch","ref","pages","offset","speed","factor","backgroundImage","name","wrap","url","backgroundSize","display","alignItems","justifyContent","flexDirection","margin","left","overflowX","tickTotal","tickFormat","d","tickLabelAngle","curve","onValueMouseOver","valor","aux_value","rememberValue","onValueMouseOut","forgetValue","padding","selected","popperPlacement","onChange","dateFormat","locale","fetch_download_csv","ConsumoSemanal","consumoFinal","setConsumoFinal","dia_semana","xType","attr","attrAxis","orientation","ConsumoMensal","mes","animation","damping","stiffness","showMonthYearPicker","ConsumoAnual","ano","showYearPicker","Routes","path","exact","history","createBrowserHistory","INITIAL_STATE","signed","loading","profile","combineReducers","auth","state","action","produce","draft","signIn","signUp","email","password","call","post","response","admin","toast","error","put","defaults","headers","Authorization","all","takeLatest","updateProfileSuccess","updateProfile","avatar_id","oldPassword","success","rootSaga","reducers","sagaMiddleware","createSagaMiddleware","sagaMonitor","middlewares","store","enhancer","applyMiddleware","createStore","rootReducer","persistReducer","key","storage","whitelist","persistor","persistStore","run","createGlobalStyle","App","autoClose","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.4ceb503a.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo ifce_ok.0db7588d.png\";","export function signInRequest(email, password) {\n  return {\n    type: '@auth/SIGN_IN_REQUEST',\n    payload: { email, password },\n  };\n}\n\nexport function signInSuccess(token, user) {\n  return {\n    type: '@auth/SIGN_IN_SUCCESS',\n    payload: { token, user },\n  };\n}\n\nexport function signUpRequest(name, email, password) {\n  return {\n    type: '@auth/SIGN_UP_REQUEST',\n    payload: { name, email, password },\n  };\n}\n\nexport function signFailure() {\n  return {\n    type: '@auth/SIGN_FAILURE',\n  };\n}\n\nexport function signOut() {\n  return {\n    type: '@auth/SIGN_OUT',\n  };\n}\n","import styled from 'styled-components';\r\n\r\nexport const Container = styled.div`\r\n  background: #fff;\r\n  padding: 0 30px;\r\n`;\r\n\r\nexport const Content = styled.div`\r\n  height: 64px;\r\n  max-width: 900px;\r\n  margin: 0 auto;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n\r\n  nav {\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    img {\r\n      width: 60px;\r\n      height: 50px;\r\n      margin-right: 20px;\r\n      padding-right: 20px;\r\n      border-right: 1px solid #eee;\r\n    }\r\n\r\n    a {\r\n      font-weight: bold;\r\n      color: #7159c1;\r\n      margin-right: 20px;\r\n      padding-right: 20px;\r\n      border-right: 1px solid #eee;\r\n    }\r\n  }\r\n\r\n  aside {\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n`;\r\n\r\nexport const Profile = styled.div`\r\n  display: flex;\r\n  margin-left: 20px;\r\n  padding-left: 20px;\r\n  border-left: 1px solid #eee;\r\n\r\n  div {\r\n    text-align: right;\r\n    margin-right: 10px;\r\n\r\n    strong {\r\n      display: block;\r\n      color: #333;\r\n    }\r\n\r\n    a {\r\n      display: block;\r\n      margin-top: 2px;\r\n      font-size: 12px;\r\n      color: #999;\r\n    }\r\n\r\n    button {\r\n      border: 0;\r\n      background: none;\r\n\r\n      strong {\r\n      display: block;\r\n      margin-top: 2px;\r\n      font-size: 12px;\r\n      color: #999;\r\n    }\r\n    }\r\n  }\r\n\r\n  img {\r\n    width: 32px;\r\n    height: 32px;\r\n    border-radius: 50%;\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { signOut } from '~/store/modules/auth/actions';\r\n// import Notifications from '../Notifications';\r\n\r\nimport logo from '../../assets/logo ifce_ok.png'\r\n\r\nimport { Container, Content, Profile } from './styles';\r\n\r\nexport default function HeaderBar() {\r\n\r\n\r\n\r\n  return (\r\n    <div className='container-fluid p-0 fixed-top'>\r\n    <nav className='navbar navbar-expand-md navbar-dark bg-light'>\r\n    <img style={{width:159, height:50}} className='nav-brand' src={logo} alt=\"AquaLoggerIFCE\" />\r\n    <button style={{outline: 'none'}} className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarMainToggler\"\r\n            aria-controls=\"navbarMainToggler\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n            <span className=\"navbar-toggler-icon \"/>\r\n    </button>\r\n\r\n    <section className=\"collapse navbar-collapse\" id=\"navbarMainToggler\">\r\n      <div className='navbar-nav ml-auto'>\r\n          <Link className='nav-item nav-link text-primary' to=\"/\">CONSUMO DIÁRIO</Link>\r\n          <Link className='nav-item nav-link text-primary' to=\"/semanal\">CONSUMO SEMANAL</Link>\r\n          <Link className='nav-item nav-link text-primary' to=\"/mensal\">CONSUMO MENSAL</Link>\r\n          <Link className='nav-item nav-link text-primary' to=\"/anual\">CONSUMO ANUAL</Link>\r\n        </div>\r\n    </section> \r\n    </nav>\r\n  </div>\r\n  );\r\n}\r\n","import styled from 'styled-components';\r\nimport { darken } from 'polished';\r\n\r\nexport const Footer = styled.div`\r\n display: flex;\r\n  width: 100%;\r\n  height: 45px;\r\n  justify-content: center;\r\n  background-color: #1C1C1C;\r\n\r\n\r\n  button {\r\n    border: 0;\r\n    background: none;\r\n    outline: none;\r\n  }\r\n`;\r\n\r\n","import React from 'react';\r\nimport { AiFillFacebook, AiFillInstagram } from \"react-icons/ai\"\r\nimport { FiMapPin } from \"react-icons/fi\"\r\n\r\nimport { Footer } from './styles';\r\n\r\nfunction redireciona(id){\r\n  if(id === 1){\r\n    window.open('https://www.facebook.com/ifcequixada', '_blank')\r\n  }\r\n\r\n  if(id === 2){\r\n    window.open('https://www.instagram.com/ifcequixada/?hl=pt-br', '_blank')\r\n  }\r\n\r\n  if(id === 3){\r\n    window.open('https://goo.gl/maps/BdJP4GpFYrkHy9nq8', '_blank')\r\n  }\r\n \r\n}\r\n\r\nexport default function FooterBar() {\r\n  return (\r\n      <Footer className='fixed-bottom'>\r\n        <button type=\"button\" onClick={() => redireciona(1)}>\r\n          <AiFillFacebook size={35} color=\"#FFF\" />\r\n        </button>\r\n        <div style={{paddingLeft: 15}} />\r\n        <button type=\"button\" onClick={() => redireciona(2)}>\r\n          <AiFillInstagram size={35} color=\"#FFF\" />\r\n        </button>\r\n        <div style={{paddingLeft: 15}} />\r\n        <button type=\"button\" onClick={() => redireciona(3)}>\r\n        <FiMapPin size={35} color=\"#FFF\" />\r\n      </button>\r\n      </Footer>\r\n     \r\n      \r\n    \r\n  );\r\n}\r\n\r\n","import styled from 'styled-components';\r\n\r\nexport const Container = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  flex-direction: column;\r\n`;\r\nexport const Wrapper = styled.div`\r\n  height: 100%;\r\n  padding: 0;\r\n`;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport HeaderBar from '../../../components/HeaderBar';\r\nimport FooterBar from '../../../components/Footer';\r\n\r\nimport { Wrapper, Container } from './styles';\r\n\r\nexport default function DefaultLayout({ children }) {\r\n  return (\r\n    <Container>\r\n      \r\n      <Wrapper>\r\n        {children}\r\n      </Wrapper>\r\n      <FooterBar/>\r\n    </Container>\r\n   \r\n  );\r\n}\r\n\r\nDefaultLayout.propTypes = {\r\n  children: PropTypes.element.isRequired,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\n// import { store } from '../store';\r\n\r\n// import AuthLayout from '../pages/_layouts/auth';\r\nimport DefaultLayout from '../pages/_layouts/default';\r\n\r\nexport default function RouteWrapper({\r\n  component: Component,\r\n  isPrivate,\r\n  ...rest\r\n}) {\r\n  \r\n\r\n  const Layout =  DefaultLayout;\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props => (\r\n          <Layout>\r\n            <Component {...props} />\r\n          </Layout>\r\n       \r\n      )}\r\n    />\r\n  );\r\n}\r\n\r\nRouteWrapper.propTypes = {\r\n  isPrivate: PropTypes.bool,\r\n  component: PropTypes.oneOfType([PropTypes.element, PropTypes.func])\r\n    .isRequired,\r\n};\r\n\r\nRouteWrapper.defaultProps = {\r\n  isPrivate: false,\r\n};\r\n","import axios from 'axios';\r\n\r\nconst api = axios.create({\r\n    baseURL: 'http://172.16.0.91:3333'\r\n  // baseURL: 'http://localhost:3333',\r\n});\r\nexport default api;\r\n","import styled from 'styled-components';\r\nimport { darken } from 'polished';\r\n\r\nexport const Container = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  height: 100%;\r\n  flex-direction: column;\r\n  padding: 0 10px;\r\n\r\n  img {\r\n    width: 100%;\r\n    height: auto;\r\n  }\r\n`;\r\n\r\nexport const DadosContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  align-self: center;\r\n  background-color: #FFF;\r\n  margin-top: 10px;\r\n  margin-bottom: 10px;\r\n  padding-left: 10px;\r\n  padding-right: 10px;\r\n  border-radius: 10px;\r\n\r\n  h3 {\r\n    align-self: center;\r\n  };\r\n\r\n  h2 {\r\n    align-self: center;\r\n  }\r\n\r\n`;\r\n\r\n\r\nexport const GraficoContainer = styled.div`\r\n  display: flex;\r\n  width: 96%;\r\n  align-self: center;\r\n  background-color: #FFF;\r\n  padding-top: 20px;\r\n  padding-left: 20px;\r\n  border-radius: 20px;\r\n  overflow-x: auto; \r\n`;\r\n\r\nexport const CarrouselContainer = styled.div`\r\n  display: flex;\r\n  max-width: 500px;\r\n  min-width: 350px;\r\n  margin-top: 20px;\r\n  background-color: #FFF;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-top-left-radius: 20px;\r\n  border-top-right-radius: 20px;\r\n  padding: 10px;\r\n`;\r\n\r\nexport const CarrouselContainer2 = styled.div`\r\n  display: flex;\r\n  max-width: 500px;\r\n  margin-top: 20px;\r\n  background-color: #FFF;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 20px;\r\n  padding: 10px;\r\n`;\r\n\r\nexport const TextContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 70%;\r\n  min-width: 350px;\r\n  background-color: #FFF;\r\n  align-self: center;\r\n  border-bottom-left-radius: 20px;\r\n  border-bottom-right-radius: 20px;\r\n  padding: 10px;\r\n`;\r\n\r\nexport const LoadContainer = styled.div`\r\n  height:350px;\r\n  width: 1200px;\r\n  justify-content:center;\r\n  align-items:center;\r\n  display: flex;\r\n  flex-direction: column;\r\n  \r\n\r\n  strong {\r\n      color: #fff;\r\n      font-size: 20px;\r\n      margin: 0 15px;\r\n      font-weight:bold;\r\n    }\r\n  ;`\r\n\r\nexport const InputContainer = styled.div`\r\ndisplay: flex;\r\nheight:200px;\r\nwidth:250px;\r\nflex-direction: column;\r\njustify-content: center;\r\nalign-items: center;\r\nalign-self: center;\r\nbackground-color: #F2F2F2;\r\nborder-radius: 10px;\r\n`;\r\n\r\nexport const CustomInput = styled.button`\r\ndisplay: flex;\r\npadding: 5px;\r\nborder-radius: 10px;\r\nbackground-color: #0B0B61;\r\nh3 {\r\n    align-self: center;\r\n    color: #FFF;\r\n  };\r\n`;\r\n\r\nexport const DownloadContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  padding: 50px;\r\n  border-radius: 25px;\r\n  background-color: #FFF;\r\n\r\n  button {\r\n    \r\n    outline:none;\r\n  }\r\n`;\r\nexport const ButtonDownload = styled.button`\r\n display: flex;\r\n  height:80px;\r\n  width:410px;\r\n  justify-content: center;\r\n  align-items: center;\r\n  color: #FFF;\r\n  background-color: #0B0B61;\r\n  border-radius:10px;\r\n  margin-top: 15px;\r\n  border: none;\r\n  outline:none;\r\n  transition: background 0.2s;\r\n\r\n  &:hover {\r\n        background: ${darken(0.08, '#3b9eff')};\r\n      }\r\nh3 {\r\n    align-self: center;\r\n    color: #FFF;\r\n  };\r\n`;","import React, {useEffect, useState, useRef} from 'react';\r\n// import { Link } from 'react-router-dom';\r\nimport { Parallax, ParallaxLayer } from 'react-spring/renderprops-addons'\r\nimport {XYPlot,\r\n        LineMarkSeries,\r\n        AreaSeries,\r\n        VerticalGridLines,\r\n        HorizontalGridLines,\r\n        XAxis,\r\n        YAxis,\r\n        Hint\r\n      } from 'react-vis';\r\nimport { Digital } from 'react-activity';\r\nimport 'react-activity/dist/react-activity.css';\r\nimport {format, parseISO, startOfDay, endOfDay, addHours} from 'date-fns';\r\nimport isBefore from 'date-fns/isBefore'\r\nimport pt from 'date-fns/locale/pt';\r\nimport Ws from '@adonisjs/websocket-client';\r\nimport { FiCalendar } from 'react-icons/fi';\r\nimport DatePicker, {registerLocale} from \"react-datepicker\";\r\nimport api from '../../services/api'\r\nimport HeaderBar from '../../components/HeaderBar';\r\nimport { GraficoContainer,\r\n        DadosContainer,\r\n        LoadContainer,\r\n        InputContainer,\r\n        CustomInput,\r\n        DownloadContainer,\r\n        ButtonDownload\r\n      } from './styles';\r\nimport '../../../node_modules/react-vis/dist/style.css';\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\n\r\nregisterLocale('pt', pt)\r\n\r\nfunction HomePage() {\r\n \r\n  const [dataAtual, setdataAtual] = useState(new Date());\r\n  const [dadosPrimarios, setDadosPrimarios] = useState([]);\r\n  const [data_grafico, setDataGrafico] = useState([]);\r\n  const [value, setValue] = useState([]);\r\n  const [load, setLoad] = useState(true);\r\n  const [startDate, setStartDate] = useState(new Date());\r\n  const [finalDate, setFinalDate] = useState(new Date());\r\n  const [loadDownload, setLoadDownload] = useState(false);\r\n  \r\n\r\n\r\n  function formata_dados(dados){\r\n    let soma_consumo = 0;\r\n    if(dados){\r\n      console.log('*** entrou no if do formata dados');\r\n      // console.tron.log('entrou no if do formata dados!')\r\n      // console.tron.log(dados)\r\n        const aux_dados = [];\r\n        for(let i=0; i<dados.length; i+=1){\r\n          soma_consumo += dados[i].consumo;\r\n          aux_dados.push({y: soma_consumo, x: Date.parse(dados[i].data_criacao)})\r\n        }\r\n         console.log(aux_dados)\r\n      setDataGrafico(aux_dados);\r\n      setValue(soma_consumo.toFixed(2));\r\n      setLoad(false);\r\n      \r\n    }\r\n  }\r\n\r\nasync function data_fetch(){\r\n  const aux_date = format(dataAtual, \"yyyy'-'MM'-'dd\")\r\n    const res = await api.get('consumo-diario',{\r\n      params : { date: aux_date }\r\n    });\r\n    console.log('*** data fetch');\r\n    console.log(res.data);\r\n    if(res.data){\r\n      formata_dados(res.data);\r\n    }else{\r\n      alert('Erro ao carregar os dados!')\r\n    }\r\n  }\r\n\r\n  \r\n\r\n\r\nuseEffect(() => {\r\n  \r\n  // const ws = Ws('ws://mellus.com.br:3333').connect();\r\n  const ws = Ws('ws://172.16.0.91:3333').connect();\r\n  const socket_consumo = ws.subscribe('consumo');\r\n  ws.on('open', ()=>{// alert('entrou no websocket');\r\n })\r\n ws.on('error', ()=>{ alert('erro no websocket');\r\n })\r\n ws.on('close', ()=>{  alert('fechou o websocket');\r\n })\r\n  // socket_consumo.on('message', (dataa)=> {\r\n  //   alert(dataa);\r\n  // });\r\n\r\n  socket_consumo.on('new', (dataa)=> {\r\n    // console.tron.log(dataa)\r\n    formata_dados(dataa);\r\n  });\r\n  //  socket_consumo.emit('message', 'Vindo do frontend!')\r\n  \r\n  data_fetch();\r\n   // monta_dados_grafico();\r\n}, [])\r\n\r\n\r\n\r\n\r\nfunction forgetValue () {\r\n const { y } = data_grafico[data_grafico.length - 1];\r\n  setValue(y.toFixed(2));\r\n};\r\n\r\nfunction rememberValue (aux_value) {\r\n   const { y } = aux_value\r\n   setValue(y.toFixed(2)); \r\n};\r\n\r\nfunction download_csv(dados) {\r\n//   const dados = [\r\n//     ['Marcelo', 'Quixadá'],\r\n//     ['Cadmiel', 'Oiticica'],\r\n//     ['Tales', 'Pedra e cal']\r\n//  ];\r\n\r\n  let csv = 'Consumo(m3);Data;Hora\\n';\r\n  dados.forEach( (row) => {\r\n         // csv += row.join(';');\r\n         csv += `${row.consumo};${format(addHours(parseISO(row.data_criacao), 3), \"dd'/'MM'/'yyyy';'HH':'mm\")}`;\r\n          csv += \"\\n\";\r\n  });\r\n  setLoadDownload(false);\r\n   // console.log(csv);\r\n  const hiddenElement = document.createElement('a');\r\n  hiddenElement.href = `data:text/csv;charset=utf-8,${encodeURI(csv)}`;\r\n  hiddenElement.target = '_blank';\r\n  hiddenElement.download = 'download-consumo.csv';\r\n  hiddenElement.click();\r\n}\r\n\r\n\r\nasync function fetch_download_csv() {\r\n  const is_before = isBefore(startOfDay(startDate), endOfDay(finalDate))\r\n  if(!is_before){\r\n    alert('A \"Data Inicial\" deve ser anterior e diferente ao da \"Data Final\"!');\r\n    return\r\n  }\r\n  setLoadDownload(true);\r\nconst inicial_fomated = format(startDate, \"yyyy'-'MM'-'dd\");\r\nconst final_fomated = format(finalDate, \"yyyy'-'MM'-'dd\");\r\n// alert(`${inicial_fomated} e ${final_fomated}`)\r\n\r\nconst res = await api.get('download-diario',{\r\n  params : { data_ref_inicial: inicial_fomated,\r\n             data_ref_final: final_fomated\r\n   }\r\n});\r\nif(res.data.length === 0){\r\n  setLoadDownload(false);\r\n  alert('Nenhum dado foi encontrado no intervalo de tempo')\r\n}else{\r\n  // console.log(res.data)\r\n  download_csv(res.data);\r\n}\r\n\r\n\r\n}\r\n\r\n\r\n  let parallax = null;\r\n  const url = (name, wrap = false) => `${wrap ? 'url(' : ''}https://awv3node-homepage.surge.sh/build/assets/${name}.svg${wrap ? ')' : ''}`\r\n  return (\r\n  \r\n    <Parallax ref={ref => (parallax = ref)} pages={2}>\r\n    <ParallaxLayer offset={0} speed={0} factor={3} style={{ backgroundImage: url('stars', true), backgroundSize: 'cover' }}/>\r\n  \r\n      <ParallaxLayer\r\n        offset={0}\r\n        speed={0.1}\r\n        style={{ display: 'flex', alignItems: 'center', justifyContent: 'center'}}>\r\n        <HeaderBar />\r\n\r\n        <div style={{display: 'flex', flexDirection: 'column', width: '100%'}}>\r\n        \r\n        <DadosContainer>\r\n          <h2>{format(new Date(), \"dd'/'MM'/'yyyy\")}</h2>\r\n          <h3>Consumo: {value} m³</h3>\r\n        </DadosContainer>   \r\n\r\n        <GraficoContainer>\r\n        {load ? (<LoadContainer><Digital color='#9F81F7' size={40} /></LoadContainer>) : \r\n            <XYPlot height={350} width={(data_grafico.length*20) + 350} margin={{ left:75}} style={{overflowX:'auto'}}>\r\n              <VerticalGridLines />\r\n              <HorizontalGridLines />\r\n             \r\n              <XAxis tickTotal={25} tickFormat={ (d)=>{ return format( new Date(d + 10800000), \"HH':'mm\")}} tickLabelAngle={-45} />\r\n              <YAxis tickFormat={ (d)=>{ return `${d} m³`}} />\r\n              <LineMarkSeries \r\n                style={{}}\r\n                curve='curveLinear' \r\n                size={3}\r\n                data={data_grafico} \r\n                onValueMouseOver={(valor)=> rememberValue(valor)}\r\n                onValueMouseOut={()=> forgetValue()}\r\n                />\r\n              {// value ? <Hint value={value} /> : null\r\n            }\r\n           </XYPlot>\r\n          }\r\n        </GraficoContainer>\r\n        </div>\r\n      </ParallaxLayer>\r\n\r\n      <ParallaxLayer\r\n      offset={1}\r\n      speed={0}\r\n      style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', flexDirection: 'column'}}>\r\n     <DownloadContainer>\r\n     <h3>Download CSV</h3>\r\n      <div style={{display:'flex', flexDirection:'row', padding: 10}}>\r\n          <InputContainer>\r\n          <h3>Data Inicial</h3>\r\n          <div style={{display: 'flex'}}>\r\n          <FiCalendar size={18} color=\"#0B0B61\" />\r\n          <DatePicker\r\n          selected={startDate}\r\n          popperPlacement=\"top-start\"\r\n          onChange={date => {setStartDate(date)}}\r\n          dateFormat='dd/MM/yyyy'\r\n          locale=\"pt\"\r\n          />\r\n        </div>\r\n          </InputContainer>\r\n              <div style={{padding:10}}/>\r\n          <InputContainer>\r\n          <h3>Data Final</h3>\r\n          <div style={{display: 'flex'}}>\r\n            <FiCalendar size={18} color=\"#0B0B61\" />\r\n            <DatePicker\r\n            selected={finalDate}\r\n            popperPlacement=\"top-start\"\r\n            onChange={date => {alert(date);setFinalDate(date)}}\r\n            dateFormat='dd/MM/yyyy'\r\n            locale=\"pt\"\r\n            />\r\n          </div>\r\n          \r\n          </InputContainer>\r\n      </div>    \r\n          <ButtonDownload onClick={()=> {fetch_download_csv()}}>\r\n          {loadDownload ? (<LoadContainer><Digital color='#FFF' size={20} />\r\n          <h3>Buscando</h3>\r\n          </LoadContainer>) :\r\n              <h1>Download</h1>\r\n        }\r\n          </ButtonDownload>  \r\n      </DownloadContainer>   \r\n     </ParallaxLayer>\r\n     \r\n  </Parallax>\r\n    \r\n  );\r\n}\r\n\r\nexport default HomePage;","import styled from 'styled-components';\r\nimport { darken } from 'polished';\r\n\r\nexport const Container = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  height: 100%;\r\n  flex-direction: column;\r\n  padding: 0 10px;\r\n\r\n  img {\r\n    width: 100%;\r\n    height: auto;\r\n  }\r\n`;\r\n\r\nexport const DadosContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  align-self: center;\r\n  background-color: #FFF;\r\n  margin-top: 10px;\r\n  margin-bottom: 10px;\r\n  padding-left: 10px;\r\n  padding-right: 10px;\r\n  border-radius: 10px;\r\n\r\n  h3 {\r\n    align-self: center;\r\n  };\r\n\r\n  h2 {\r\n    align-self: center;\r\n  }\r\n\r\n`;\r\n\r\n\r\nexport const GraficoContainer = styled.div`\r\n  display: flex;\r\n  width: 96%;\r\n  align-self: center;\r\n  background-color: #FFF;\r\n  padding-top: 20px;\r\n  padding-left: 20px;\r\n  border-radius: 20px;\r\n  overflow-x: auto;\r\n`;\r\n\r\nexport const CarrouselContainer = styled.div`\r\n  display: flex;\r\n  max-width: 500px;\r\n  min-width: 350px;\r\n  margin-top: 20px;\r\n  background-color: #FFF;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-top-left-radius: 20px;\r\n  border-top-right-radius: 20px;\r\n  padding: 10px;\r\n`;\r\n\r\nexport const CarrouselContainer2 = styled.div`\r\n  display: flex;\r\n  max-width: 500px;\r\n  margin-top: 20px;\r\n  background-color: #FFF;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 20px;\r\n  padding: 10px;\r\n`;\r\n\r\nexport const TextContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 70%;\r\n  min-width: 350px;\r\n  background-color: #FFF;\r\n  align-self: center;\r\n  border-bottom-left-radius: 20px;\r\n  border-bottom-right-radius: 20px;\r\n  padding: 10px;\r\n`;\r\n\r\nexport const LoadContainer = styled.div`\r\n  height:350px;\r\n  width: 1200px;\r\n  justify-content:center;\r\n  align-items:center;\r\n  display: flex;\r\n  \r\n\r\n  strong {\r\n      color: #fff;\r\n      font-size: 20px;\r\n      margin: 0 15px;\r\n      font-weight:bold;\r\n    }\r\n  ;`","import React, {useEffect, useState, useRef} from 'react';\r\n// import { Link } from 'react-router-dom';\r\nimport { Parallax, ParallaxLayer } from 'react-spring/renderprops-addons'\r\nimport {XYPlot,\r\n        LineMarkSeries,\r\n        VerticalBarSeries,\r\n        VerticalGridLines,\r\n        HorizontalGridLines,\r\n        XAxis,\r\n        YAxis,\r\n        Hint\r\n      } from 'react-vis';\r\nimport {format, parseISO, getDay} from 'date-fns';\r\nimport pt from 'date-fns/locale/pt';\r\nimport Ws from '@adonisjs/websocket-client';\r\nimport { Digital } from 'react-activity';\r\nimport 'react-activity/dist/react-activity.css';\r\nimport api from '../../services/api'\r\nimport HeaderBar from '../../components/HeaderBar';\r\nimport { GraficoContainer, DadosContainer, LoadContainer} from './styles';\r\nimport '../../../node_modules/react-vis/dist/style.css';\r\n\r\n\r\nfunction ConsumoSemanal() {\r\n \r\n  const [dataAtual, setdataAtual] = useState(new Date());\r\n  const [consumoFinal, setConsumoFinal] = useState();\r\n  const [data_grafico, setDataGrafico] = useState([]);\r\n  const [value, setValue] = useState([]);\r\n  const [load, setLoad] = useState(true)\r\n  \r\n  \r\n\r\n\r\n  function formata_dados(dados){\r\n    const aux_dados = [{y: 0, x:'Domingo'},{y: 0, x:'Segunda-Feira'},{y: 0, x:'Terça-Feira'},{y: 0, x:'Quarta-Feira'},{y: 0, x:'Quinta-Feira'},{y: 0, x:'Sexta-Feira'},{y: 0, x:'Sábado'}];    \r\n    if(dados){\r\n        for(let i=0; i<dados.length; i+=1){\r\n          aux_dados[dados[i].dia_semana].y = dados[i].consumo;\r\n             }\r\n        }\r\n        // for(let i=0; i<dados.length; i+=1){\r\n        //   if(i === dados.length - 1){\r\n        //     aux_dados[getDay(parseISO(dados[i].data_criacao))].y = dados[i].consumo;\r\n        //     setConsumoFinal(dados[i].consumo);\r\n        //   } else if( getDay(parseISO(dados[i].data_criacao)) !== getDay(parseISO(dados[i+1].data_criacao)) ){\r\n        //     aux_dados[getDay(parseISO(dados[i].data_criacao))].y = dados[i].consumo;\r\n        //      }\r\n        // }\r\n      // console.tron.log(aux_dados);\r\n      setDataGrafico(aux_dados);\r\n      setConsumoFinal(dados[dados.length- 1].consumo);\r\n      setValue(dados[dados.length- 1].consumo);\r\n      setLoad(false);\r\n      \r\n  }\r\n\r\nasync function data_fetch(){\r\n  const aux_date = format(dataAtual, \"yyyy'-'MM'-'dd\")\r\n    const res = await api.get('consumo-semanal',{\r\n      params : { date: aux_date }\r\n    });\r\n    if(res.data){\r\n      formata_dados(res.data);\r\n    }\r\n  }\r\n\r\n  \r\n\r\n\r\nuseEffect(() => {\r\n//   const ws = Ws('ws://localhost:3333').connect();\r\n//   const socket_consumo = ws.subscribe('consumo');\r\n//   ws.on('open', ()=>{// alert('entrou no websocket');\r\n//  })\r\n//  ws.on('error', ()=>{ alert('erro no websocket');\r\n//  })\r\n//  ws.on('close', ()=>{  alert('fechou o websocket');\r\n//  })\r\n \r\n\r\n//   socket_consumo.on('new', (dataa)=> {\r\n   \r\n//     formata_dados(dataa);\r\n//   });\r\n  \r\n  data_fetch();\r\n   // monta_dados_grafico();\r\n}, [])\r\n\r\n\r\n\r\n\r\nfunction forgetValue () {\r\n  setValue(consumoFinal);\r\n};\r\n\r\nfunction rememberValue (aux_value) {\r\n   const { y } = aux_value\r\n   setValue(y); \r\n};\r\n\r\n  let parallax = null;\r\n  const url = (name, wrap = false) => `${wrap ? 'url(' : ''}https://awv3node-homepage.surge.sh/build/assets/${name}.svg${wrap ? ')' : ''}`\r\n  return (\r\n  \r\n    <Parallax ref={ref => (parallax = ref)} pages={2}>\r\n    <ParallaxLayer offset={0} speed={0} factor={3} style={{ backgroundImage: url('stars', true), backgroundSize: 'cover' }}/>\r\n  \r\n      <ParallaxLayer\r\n        offset={0}\r\n        speed={0.1}\r\n        style={{ display: 'flex', alignItems: 'center', justifyContent: 'center'}}>\r\n        <HeaderBar />\r\n\r\n        <div style={{display: 'flex', flexDirection: 'column', width: '100%'}}>\r\n        \r\n        <DadosContainer>\r\n          <h2>{format(new Date(), \"dd'/'MM'/'yyyy\")}</h2>\r\n          <h3>Consumo: {value} m³</h3>\r\n        </DadosContainer>   \r\n\r\n        <GraficoContainer>\r\n        {load ? (<LoadContainer><Digital color='#9F81F7' size={40} /></LoadContainer>) : \r\n            <XYPlot xType=\"ordinal\" height={350} width={1200} margin={{ left:75}}>\r\n              <VerticalGridLines />\r\n              <HorizontalGridLines />\r\n             \r\n              <XAxis \r\n                attr=\"x\"\r\n                attrAxis=\"y\"\r\n                orientation=\"bottom\"\r\n               />\r\n              <YAxis tickFormat={ (d)=>{ return `${d} m³`}} />\r\n              <VerticalBarSeries \r\n                data={data_grafico} \r\n                onValueMouseOver={(valor)=> rememberValue(valor)}\r\n                onValueMouseOut={()=> forgetValue()}\r\n                />\r\n              \r\n           </XYPlot>\r\n          }\r\n        </GraficoContainer>\r\n        </div>\r\n      </ParallaxLayer>\r\n  </Parallax>\r\n    \r\n  );\r\n}\r\n\r\nexport default ConsumoSemanal;","import styled from 'styled-components';\r\nimport { darken } from 'polished';\r\n\r\nexport const Container = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  height: 100%;\r\n  flex-direction: column;\r\n  padding: 0 10px;\r\n\r\n  img {\r\n    width: 100%;\r\n    height: auto;\r\n  }\r\n`;\r\n\r\nexport const DadosContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  align-self: center;\r\n  background-color: #FFF;\r\n  margin-top: 10px;\r\n  margin-bottom: 10px;\r\n  padding-left: 10px;\r\n  padding-right: 10px;\r\n  border-radius: 10px;\r\n\r\n  h3 {\r\n    align-self: center;\r\n  };\r\n\r\n  h2 {\r\n    align-self: center;\r\n  }\r\n\r\n`;\r\n\r\n\r\nexport const GraficoContainer = styled.div`\r\n  display: flex;\r\n  width: 96%;\r\n  align-self: center;\r\n  background-color: #FFF;\r\n  padding-top: 20px;\r\n  padding-left: 20px;\r\n  border-radius: 20px;\r\n  overflow-x: auto;\r\n \r\n`;\r\n\r\nexport const CarrouselContainer = styled.div`\r\n  display: flex;\r\n  max-width: 500px;\r\n  min-width: 350px;\r\n  margin-top: 20px;\r\n  background-color: #FFF;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-top-left-radius: 20px;\r\n  border-top-right-radius: 20px;\r\n  padding: 10px;\r\n`;\r\n\r\nexport const CarrouselContainer2 = styled.div`\r\n  display: flex;\r\n  max-width: 500px;\r\n  margin-top: 20px;\r\n  background-color: #FFF;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 20px;\r\n  padding: 10px;\r\n`;\r\n\r\nexport const TextContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 70%;\r\n  min-width: 350px;\r\n  background-color: #FFF;\r\n  align-self: center;\r\n  border-bottom-left-radius: 20px;\r\n  border-bottom-right-radius: 20px;\r\n  padding: 10px;\r\n`;\r\n\r\nexport const LoadContainer = styled.div`\r\n  height:350px;\r\n  width: 1200px;\r\n  justify-content:center;\r\n  align-items:center;\r\n  display: flex;\r\n  flex-direction: column;\r\n  \r\n\r\n  strong {\r\n      color: #fff;\r\n      font-size: 20px;\r\n      margin: 0 15px;\r\n      font-weight:bold;\r\n    }\r\n  ;`\r\n\r\n\r\nexport const InputContainer = styled.div`\r\ndisplay: flex;\r\nheight:200px;\r\nwidth:250px;\r\nflex-direction: column;\r\njustify-content: center;\r\nalign-items: center;\r\nalign-self: center;\r\nbackground-color: #F2F2F2;\r\nborder-radius: 10px;\r\n`;\r\n\r\nexport const CustomInput = styled.button`\r\ndisplay: flex;\r\npadding: 5px;\r\nborder-radius: 10px;\r\nbackground-color: #0B0B61;\r\nh3 {\r\n    align-self: center;\r\n    color: #FFF;\r\n  };\r\n`;\r\n\r\nexport const DownloadContainer = styled.div`\r\ndisplay: flex;\r\nflex-direction: column;\r\nalign-items: center;\r\npadding: 50px;\r\nborder-radius: 25px;\r\nbackground-color: #FFF;\r\n\r\nbutton {\r\n  \r\n  outline:none;\r\n}\r\n`;\r\nexport const ButtonDownload = styled.button`\r\ndisplay: flex;\r\nheight:80px;\r\nwidth:410px;\r\njustify-content: center;\r\nalign-items: center;\r\ncolor: #FFF;\r\nbackground-color: #0B0B61;\r\nborder-radius:10px;\r\nmargin-top: 15px;\r\nborder: none;\r\noutline:none;\r\ntransition: background 0.2s;\r\n\r\n&:hover {\r\n      background: ${darken(0.08, '#3b9eff')};\r\n    }\r\nh3 {\r\n  align-self: center;\r\n  color: #FFF;\r\n};\r\n`;","import React, {useEffect, useState, useRef} from 'react';\r\n// import { Link } from 'react-router-dom';\r\nimport { Parallax, ParallaxLayer } from 'react-spring/renderprops-addons'\r\nimport {XYPlot,\r\n        LineMarkSeries,\r\n        VerticalBarSeries,\r\n        VerticalGridLines,\r\n        HorizontalGridLines,\r\n        XAxis,\r\n        YAxis,\r\n        Hint\r\n      } from 'react-vis';\r\nimport {format, parseISO, addHours} from 'date-fns';\r\nimport isBefore from 'date-fns/isBefore'\r\nimport pt from 'date-fns/locale/pt';\r\nimport Ws from '@adonisjs/websocket-client';\r\nimport { Digital } from 'react-activity';\r\nimport 'react-activity/dist/react-activity.css';\r\nimport { FiCalendar } from 'react-icons/fi';\r\nimport DatePicker, {registerLocale} from \"react-datepicker\";\r\nimport api from '../../services/api'\r\nimport HeaderBar from '../../components/HeaderBar';\r\nimport { GraficoContainer,\r\n         DadosContainer,\r\n         LoadContainer,\r\n         DownloadContainer,\r\n         ButtonDownload,\r\n         InputContainer,\r\n         CustomInput\r\n        } from './styles';\r\nimport '../../../node_modules/react-vis/dist/style.css';\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\n\r\nfunction ConsumoMensal() {\r\n \r\n  const [dataAtual, setdataAtual] = useState(new Date());\r\n  const [consumoFinal, setConsumoFinal] = useState();\r\n  const [data_grafico, setDataGrafico] = useState([]);\r\n  const [value, setValue] = useState([]);\r\n  const [load, setLoad] = useState(true);\r\n  const [startDate, setStartDate] = useState(new Date());\r\n  const [finalDate, setFinalDate] = useState(new Date());\r\n  const [loadDownload, setLoadDownload] = useState(false);\r\n  \r\n  \r\n\r\n\r\n  function formata_dados(dados){\r\n    const aux_dados = [{y: 0, x:'Janeiro'},{y: 0, x:'Fevereiro'},{y: 0, x:'Março'},{y: 0, x:'Abril'},{y: 0, x:'Maio'},{y: 0, x:'Junho'},{y: 0, x:'Julho'},{y: 0, x:'Agosto'},{y: 0, x:'Setembro'},{y: 0, x:'Outubro'},{y: 0, x:'Novembro'},{y: 0, x:'Dezembro'}];\r\n       \r\n    if(dados){     \r\n        for(let i=0; i<dados.length; i+=1){\r\n           aux_dados[dados[i].mes].y = dados[i].consumo;\r\n        }\r\n    }\r\n        // for(let i=0; i<dados.length; i+=1){\r\n        //   if(i === dados.length - 1){\r\n        //     aux_dados[getMonth(parseISO(dados[i].data_criacao))].y = dados[i].consumo;\r\n        //     setConsumoFinal(dados[i].consumo);\r\n        //   } else if( getMonth(parseISO(dados[i].data_criacao)) !== getMonth(parseISO(dados[i+1].data_criacao)) ){\r\n        //     aux_dados[getMonth(parseISO(dados[i].data_criacao))].y = dados[i].consumo;\r\n        //      }\r\n        // }\r\n     // console.tron.log(aux_dados);\r\n      setDataGrafico(aux_dados);\r\n      setConsumoFinal(dados[dados.length- 1].consumo);\r\n      setValue(dados[dados.length- 1].consumo);\r\n      setLoad(false);\r\n  }\r\n\r\nasync function data_fetch(){\r\n  const aux_date = format(dataAtual, \"yyyy'-'MM'-'dd\")\r\n    const res = await api.get('consumo-mensal',{\r\n      params : { date: aux_date }\r\n    });\r\n    if(res.data){\r\n      formata_dados(res.data);\r\n    }\r\n  }\r\n\r\n  \r\n\r\n\r\nuseEffect(() => {\r\n//   const ws = Ws('ws://localhost:3333').connect();\r\n//   const socket_consumo = ws.subscribe('consumo');\r\n//   ws.on('open', ()=>{// alert('entrou no websocket');\r\n//  })\r\n//  ws.on('error', ()=>{ alert('erro no websocket');\r\n//  })\r\n//  ws.on('close', ()=>{  alert('fechou o websocket');\r\n//  })\r\n \r\n\r\n//   socket_consumo.on('new', (dataa)=> {\r\n   \r\n//     formata_dados(dataa);\r\n//   });\r\n  \r\n  data_fetch();\r\n   // monta_dados_grafico();\r\n}, [])\r\n\r\n\r\n\r\n\r\nfunction forgetValue () {\r\n  setValue(consumoFinal);\r\n};\r\n\r\nfunction rememberValue (aux_value) {\r\n   const { y } = aux_value\r\n   setValue(y); \r\n};\r\n\r\n\r\nfunction download_csv(dados) {\r\n  //   const dados = [\r\n  //     ['Marcelo', 'Quixadá'],\r\n  //     ['Cadmiel', 'Oiticica'],\r\n  //     ['Tales', 'Pedra e cal']\r\n  //  ];\r\n  \r\n    let csv = 'Consumo(m3);Mes;DataDeCriacao\\n';\r\n    dados.forEach( (row) => {\r\n           // csv += row.join(';');\r\n           csv += `${row.consumo};${row.mes + 1};${format(addHours(parseISO(row.data_criacao), 3), \"dd'/'MM'/'yyyy'\")}`;\r\n            csv += \"\\n\";\r\n    });\r\n    setLoadDownload(false);\r\n     // console.log(csv);\r\n    const hiddenElement = document.createElement('a');\r\n    hiddenElement.href = `data:text/csv;charset=utf-8,${  encodeURI(csv)}`;\r\n    hiddenElement.target = '_blank';\r\n    hiddenElement.download = 'download-consumo-mensal.csv';\r\n    hiddenElement.click();\r\n  }\r\n  \r\n  \r\n  async function fetch_download_csv() {\r\n    const is_before = isBefore(startDate, finalDate)\r\n    if(!is_before){\r\n      alert('A \"Data Inicial\" deve ser anterior e diferente ao da \"Data Final\"!');\r\n      return\r\n    }\r\n    setLoadDownload(true);\r\n  const inicial_fomated = format(startDate, \"yyyy'-'MM'-'dd\");\r\n  const final_fomated = format(finalDate, \"yyyy'-'MM'-'dd\");\r\n  // alert(`${inicial_fomated} e ${final_fomated}`)\r\n  \r\n  const res = await api.get('download-mensal',{\r\n    params : { data_ref_inicial: inicial_fomated,\r\n               data_ref_final: final_fomated\r\n     }\r\n  });\r\n  if(res.data.length === 0){\r\n    setLoadDownload(false);\r\n    alert('Nenhum dado foi encontrado no intervalo de tempo')\r\n  }else{\r\n    // console.log(res.data);\r\n    download_csv(res.data);\r\n  }\r\n  \r\n  \r\n  }\r\n\r\n  let parallax = null;\r\n  const url = (name, wrap = false) => `${wrap ? 'url(' : ''}https://awv3node-homepage.surge.sh/build/assets/${name}.svg${wrap ? ')' : ''}`\r\n  return (\r\n  \r\n    <Parallax ref={ref => (parallax = ref)} pages={2}>\r\n    <ParallaxLayer offset={0} speed={0} factor={3} style={{ backgroundImage: url('stars', true), backgroundSize: 'cover' }}/>\r\n  \r\n      <ParallaxLayer\r\n        offset={0}\r\n        speed={0.1}\r\n        style={{ display: 'flex', alignItems: 'center', justifyContent: 'center'}}>\r\n        <HeaderBar />\r\n\r\n        <div style={{display: 'flex', flexDirection: 'column', width: '100%'}}>\r\n        \r\n        <DadosContainer>\r\n          <h2>{format(new Date(), \"dd'/'MM'/'yyyy\")}</h2>\r\n          <h3>Consumo: {value} m³</h3>\r\n        </DadosContainer>   \r\n\r\n        <GraficoContainer>\r\n        {load ? (<LoadContainer><Digital color='#9F81F7' size={40} /></LoadContainer>) : \r\n            <XYPlot xType=\"ordinal\" height={350} width={1200} margin={{ left:75}}>\r\n              <VerticalGridLines />\r\n              <HorizontalGridLines />\r\n             \r\n              <XAxis \r\n                attr=\"x\"\r\n                attrAxis=\"y\"\r\n                orientation=\"bottom\"\r\n               />\r\n              <YAxis tickFormat={ (d)=>{ return `${d} m³`}} />\r\n              <VerticalBarSeries \r\n              animation = {{damping: 9,stiffness: 300}}\r\n                size={3}\r\n                data={data_grafico} \r\n                onValueMouseOver={(valor)=> rememberValue(valor)}\r\n                onValueMouseOut={()=> forgetValue()}\r\n                />\r\n              \r\n           </XYPlot>\r\n          }\r\n        </GraficoContainer>\r\n        </div>\r\n      </ParallaxLayer>\r\n\r\n      <ParallaxLayer\r\n      offset={1}\r\n      speed={0}\r\n      style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', flexDirection: 'column'}}>\r\n     <DownloadContainer>\r\n     <h3>Download CSV</h3>\r\n      <div style={{display:'flex', flexDirection:'row', padding: 10}}>\r\n          <InputContainer>\r\n          <h3>Data Inicial</h3>\r\n          <div style={{display: 'flex'}}>\r\n          <FiCalendar size={18} color=\"#0B0B61\" />\r\n          <DatePicker\r\n          selected={startDate}\r\n          popperPlacement=\"top-start\"\r\n          onChange={date => {setStartDate(date)}}\r\n          dateFormat=\"MM/yyyy\"\r\n          showMonthYearPicker\r\n          locale=\"pt\"\r\n          />\r\n        </div>\r\n          </InputContainer>\r\n              <div style={{padding:10}}/>\r\n          <InputContainer>\r\n          <h3>Data Final</h3>\r\n          <div style={{display: 'flex'}}>\r\n            <FiCalendar size={18} color=\"#0B0B61\" />\r\n            <DatePicker\r\n            selected={finalDate}\r\n            popperPlacement=\"top-start\"\r\n            onChange={date => {setFinalDate(date)}}\r\n            dateFormat=\"MM/yyyy\"\r\n            showMonthYearPicker\r\n            locale=\"pt\"\r\n            />\r\n          </div>\r\n          \r\n          </InputContainer>\r\n      </div>    \r\n      <ButtonDownload onClick={()=> {fetch_download_csv()}}>\r\n      {loadDownload ? (<LoadContainer><Digital color='#FFF' size={20} />\r\n      <h3>Buscando</h3>\r\n      </LoadContainer>) :\r\n          <h1>Download</h1>\r\n    }\r\n      </ButtonDownload>  \r\n      </DownloadContainer>   \r\n     </ParallaxLayer>\r\n\r\n  </Parallax>\r\n    \r\n  );\r\n}\r\n\r\nexport default ConsumoMensal;","import styled from 'styled-components';\r\nimport { darken } from 'polished';\r\n\r\nexport const Container = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  height: 100%;\r\n  flex-direction: column;\r\n  padding: 0 10px;\r\n\r\n  img {\r\n    width: 100%;\r\n    height: auto;\r\n  }\r\n`;\r\n\r\nexport const DadosContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  align-self: center;\r\n  background-color: #FFF;\r\n  margin-top: 10px;\r\n  margin-bottom: 10px;\r\n  padding-left: 10px;\r\n  padding-right: 10px;\r\n  border-radius: 10px;\r\n\r\n  h3 {\r\n    align-self: center;\r\n  };\r\n\r\n  h2 {\r\n    align-self: center;\r\n  }\r\n\r\n`;\r\n\r\n\r\nexport const GraficoContainer = styled.div`\r\n  display: flex;\r\n  width: 96%;\r\n  align-self: center;\r\n  background-color: #FFF;\r\n  padding-top: 20px;\r\n  padding-left: 20px;\r\n  border-radius: 20px;\r\n  overflow-x: auto; \r\n`;\r\n\r\nexport const CarrouselContainer = styled.div`\r\n  display: flex;\r\n  max-width: 500px;\r\n  min-width: 350px;\r\n  margin-top: 20px;\r\n  background-color: #FFF;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-top-left-radius: 20px;\r\n  border-top-right-radius: 20px;\r\n  padding: 10px;\r\n`;\r\n\r\nexport const CarrouselContainer2 = styled.div`\r\n  display: flex;\r\n  max-width: 500px;\r\n  margin-top: 20px;\r\n  background-color: #FFF;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 20px;\r\n  padding: 10px;\r\n`;\r\n\r\nexport const TextContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 70%;\r\n  min-width: 350px;\r\n  background-color: #FFF;\r\n  align-self: center;\r\n  border-bottom-left-radius: 20px;\r\n  border-bottom-right-radius: 20px;\r\n  padding: 10px;\r\n`;\r\n\r\nexport const LoadContainer = styled.div`\r\n  height:350px;\r\n  width: 1200px;\r\n  justify-content:center;\r\n  align-items:center;\r\n  display: flex;\r\n  flex-direction: column;\r\n  \r\n\r\n  strong {\r\n      color: #fff;\r\n      font-size: 20px;\r\n      margin: 0 15px;\r\n      font-weight:bold;\r\n    }\r\n  ;`\r\n\r\n  \r\n\r\nexport const InputContainer = styled.div`\r\ndisplay: flex;\r\nheight:200px;\r\nwidth:250px;\r\nflex-direction: column;\r\njustify-content: center;\r\nalign-items: center;\r\nalign-self: center;\r\nbackground-color: #F2F2F2;\r\nborder-radius: 10px;\r\n`;\r\n\r\nexport const CustomInput = styled.button`\r\ndisplay: flex;\r\npadding: 5px;\r\nborder-radius: 10px;\r\nbackground-color: #0B0B61;\r\nh3 {\r\n    align-self: center;\r\n    color: #FFF;\r\n  };\r\n`;\r\n\r\nexport const DownloadContainer = styled.div`\r\ndisplay: flex;\r\nflex-direction: column;\r\nalign-items: center;\r\npadding: 50px;\r\nborder-radius: 25px;\r\nbackground-color: #FFF;\r\n\r\nbutton {\r\n  \r\n  outline:none;\r\n}\r\n`;\r\nexport const ButtonDownload = styled.button`\r\ndisplay: flex;\r\nheight:80px;\r\nwidth:410px;\r\njustify-content: center;\r\nalign-items: center;\r\ncolor: #FFF;\r\nbackground-color: #0B0B61;\r\nborder-radius:10px;\r\nmargin-top: 15px;\r\nborder: none;\r\noutline:none;\r\ntransition: background 0.2s;\r\n\r\n&:hover {\r\n      background: ${darken(0.08, '#3b9eff')};\r\n    }\r\nh3 {\r\n  align-self: center;\r\n  color: #FFF;\r\n};\r\n`;","import React, {useEffect, useState, useRef} from 'react';\r\n// import { Link } from 'react-router-dom';\r\nimport { Parallax, ParallaxLayer } from 'react-spring/renderprops-addons'\r\nimport {XYPlot,\r\n        LineMarkSeries,\r\n        VerticalBarSeries,\r\n        VerticalGridLines,\r\n        HorizontalGridLines,\r\n        XAxis,\r\n        YAxis,\r\n        Hint\r\n      } from 'react-vis';\r\nimport {format, parseISO, addHours} from 'date-fns';\r\nimport isBefore from 'date-fns/isBefore'\r\nimport pt from 'date-fns/locale/pt';\r\nimport Ws from '@adonisjs/websocket-client';\r\nimport { Digital } from 'react-activity';\r\nimport 'react-activity/dist/react-activity.css';\r\nimport { FiCalendar } from 'react-icons/fi';\r\nimport DatePicker, {registerLocale} from \"react-datepicker\";\r\nimport api from '../../services/api'\r\nimport HeaderBar from '../../components/HeaderBar';\r\nimport { GraficoContainer,\r\n         DadosContainer,\r\n         LoadContainer,\r\n         DownloadContainer,\r\n         ButtonDownload,\r\n         InputContainer,\r\n         CustomInput\r\n        } from './styles';\r\nimport '../../../node_modules/react-vis/dist/style.css';\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\n\r\nfunction ConsumoAnual() {\r\n \r\n  const [dataAtual, setdataAtual] = useState(new Date());\r\n  const [consumoFinal, setConsumoFinal] = useState();\r\n  const [data_grafico, setDataGrafico] = useState([]);\r\n  const [value, setValue] = useState([]);\r\n  const [load, setLoad] = useState(true);\r\n  const [startDate, setStartDate] = useState(new Date());\r\n  const [finalDate, setFinalDate] = useState(new Date());\r\n  const [loadDownload, setLoadDownload] = useState(false);\r\n\r\n\r\n  function formata_dados(dados){\r\n    const aux_dados = [];\r\n    // const aux_dados = [{2020: {y:0, x: \"2020\"}, 2021: {y:0, x: \"2021\"}, 2022: {y:0, x: \"2020\"}}];\r\n    if(dados){  \r\n      for(let i=0; i<dados.length; i+=1){\r\n          aux_dados.push({y: dados[i].consumo, x: `${dados[i].ano}`})   \r\n      }\r\n       \r\n        // let soma_consumo = 0;\r\n        // for(let i=0; i<dados.length; i+=1){\r\n        //   if(i === dados.length - 1){\r\n        //     soma_consumo += dados[dados.length - 1].consumo;\r\n        //     setConsumoFinal(dados[i].consumo);\r\n        //   } else if( getMonth(parseISO(dados[i].data_criacao)) !== getMonth(parseISO(dados[i+1].data_criacao)) ){\r\n        //        soma_consumo += dados[i].consumo;\r\n        //      }     \r\n        // }\r\n        // aux_dados.push({y: soma_consumo, x: getMonth(parseISO(dados[0].data_criacao))})\r\n     // console.tron.log(aux_dados);\r\n      setDataGrafico(aux_dados);\r\n      setConsumoFinal(dados[dados.length- 1].consumo);\r\n      setValue(dados[dados.length- 1].consumo);\r\n      setLoad(false);\r\n      \r\n    }\r\n  }\r\n\r\nasync function data_fetch(){\r\n  const aux_date = format(dataAtual, \"yyyy'-'MM'-'dd\")\r\n    const res = await api.get('consumo-anual',{\r\n      params : { date: aux_date }\r\n    });\r\n    if(res.data){\r\n      formata_dados(res.data);\r\n    }\r\n  }\r\n\r\n  \r\n\r\n\r\nuseEffect(() => {\r\n//   const ws = Ws('ws://localhost:3333').connect();\r\n//   const socket_consumo = ws.subscribe('consumo');\r\n//   ws.on('open', ()=>{// alert('entrou no websocket');\r\n//  })\r\n//  ws.on('error', ()=>{ alert('erro no websocket');\r\n//  })\r\n//  ws.on('close', ()=>{  alert('fechou o websocket');\r\n//  })\r\n \r\n\r\n//   socket_consumo.on('new', (dataa)=> {\r\n   \r\n//     formata_dados(dataa);\r\n//   });\r\n  \r\n  data_fetch();\r\n   // monta_dados_grafico();\r\n}, [])\r\n\r\n\r\n\r\n\r\nfunction forgetValue () {\r\n  setValue(consumoFinal);\r\n};\r\n\r\nfunction rememberValue (aux_value) {\r\n   const { y } = aux_value\r\n   setValue(y); \r\n};\r\n\r\n\r\n\r\nfunction download_csv(dados) {\r\n  \r\n    let csv = 'Consumo(m3);Ano;DataDeCriacao\\n';\r\n    dados.forEach( (row) => {\r\n           // csv += row.join(';');\r\n           csv += `${row.consumo};${row.ano};${format(addHours(parseISO(row.data_criacao), 3), \"dd'/'MM'/'yyyy'\")}`;\r\n            csv += \"\\n\";\r\n    });\r\n    setLoadDownload(false);\r\n    // console.log(csv);\r\n    const hiddenElement = document.createElement('a');\r\n    hiddenElement.href = `data:text/csv;charset=utf-8,${  encodeURI(csv)}`;\r\n    hiddenElement.target = '_blank';\r\n    hiddenElement.download = 'download-consumo-anual.csv';\r\n    hiddenElement.click();\r\n  }\r\n  \r\n  \r\n  async function fetch_download_csv() {\r\n    const is_before = isBefore(startDate, finalDate)\r\n    if(!is_before){\r\n      alert('A \"Data Inicial\" deve ser anterior e diferente ao da \"Data Final\"!');\r\n      return\r\n    }\r\n    setLoadDownload(true);\r\n  const inicial_fomated = format(startDate, \"yyyy'-'MM'-'dd\");\r\n  const final_fomated = format(finalDate, \"yyyy'-'MM'-'dd\");\r\n  // alert(`${inicial_fomated} e ${final_fomated}`)\r\n  \r\n  const res = await api.get('download-anual',{\r\n    params : { data_ref_inicial: inicial_fomated,\r\n               data_ref_final: final_fomated\r\n     }\r\n  });\r\n  if(res.data.length === 0){\r\n    setLoadDownload(false);\r\n    alert('Nenhum dado foi encontrado no intervalo de tempo')\r\n  }else{\r\n    // console.log(res.data);\r\n    download_csv(res.data);\r\n  }\r\n  \r\n  }\r\n  \r\n\r\nconst url = (name, wrap = false) => `${wrap ? 'url(' : ''}https://awv3node-homepage.surge.sh/build/assets/${name}.svg${wrap ? ')' : ''}`\r\nreturn (\r\n\r\n  <Parallax  pages={2}>\r\n  <ParallaxLayer offset={0} speed={0} factor={3} style={{ backgroundImage: url('starss', true), backgroundSize: 'cover' }}/>\r\n\r\n    <ParallaxLayer\r\n      offset={0}\r\n      speed={0.1}\r\n      style={{ display: 'flex', alignItems: 'center', justifyContent: 'center'}}>\r\n      <HeaderBar />\r\n\r\n      <div style={{display: 'flex', flexDirection: 'column', width: '100%'}}>\r\n      \r\n      <DadosContainer>\r\n        <h2>{format(new Date(), \"dd'/'MM'/'yyyy\")}</h2>\r\n        <h3>Consumo: {value} m³</h3>\r\n      </DadosContainer>   \r\n\r\n      <GraficoContainer>\r\n      {load ? (<LoadContainer><Digital color='#9F81F7' size={40} /></LoadContainer>) : \r\n          <XYPlot xType=\"ordinal\" height={350} width={(data_grafico.length * 300)} margin={{ left:75}}>\r\n            <VerticalGridLines />\r\n            <HorizontalGridLines />\r\n           \r\n            <XAxis \r\n              attr=\"x\"\r\n              attrAxis=\"y\"\r\n              orientation=\"bottom\"\r\n             />\r\n            <YAxis tickFormat={ (d)=>{ return `${d} m³`}} />\r\n            <VerticalBarSeries \r\n              data={data_grafico} \r\n              onValueMouseOver={(valor)=> rememberValue(valor)}\r\n              onValueMouseOut={()=> forgetValue()}\r\n              />\r\n            \r\n         </XYPlot>\r\n        }\r\n      </GraficoContainer>\r\n      </div>\r\n    </ParallaxLayer>\r\n\r\n\r\n    <ParallaxLayer\r\n      offset={1}\r\n      speed={0}\r\n      style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', flexDirection: 'column'}}>\r\n     <DownloadContainer>\r\n     <h3>Download CSV</h3>\r\n      <div style={{display:'flex', flexDirection:'row', padding: 10}}>\r\n          <InputContainer>\r\n          <h3>Data Inicial</h3>\r\n          <div style={{display: 'flex'}}>\r\n          <FiCalendar size={18} color=\"#0B0B61\" />\r\n          <DatePicker\r\n          selected={startDate}\r\n          popperPlacement=\"top-start\"\r\n          onChange={date => {setStartDate(date)}}\r\n          showYearPicker\r\n          dateFormat=\"yyyy\"\r\n          locale=\"pt\"\r\n          />\r\n        </div>\r\n          </InputContainer>\r\n              <div style={{padding:10}}/>\r\n          <InputContainer>\r\n          <h3>Data Final</h3>\r\n          <div style={{display: 'flex'}}>\r\n            <FiCalendar size={18} color=\"#0B0B61\" />\r\n            <DatePicker\r\n            selected={finalDate}\r\n            popperPlacement=\"top-start\"\r\n            onChange={date => {setFinalDate(date)}}\r\n            showYearPicker\r\n            dateFormat=\"yyyy\"\r\n            locale=\"pt\"\r\n            />\r\n          </div>\r\n          \r\n          </InputContainer>\r\n      </div>    \r\n      <ButtonDownload onClick={()=> {fetch_download_csv()}}>\r\n      {loadDownload ? (<LoadContainer><Digital color='#FFF' size={20} />\r\n      <h3>Buscando</h3>\r\n      </LoadContainer>) :\r\n          <h1>Download</h1>\r\n    }\r\n      </ButtonDownload> \r\n      </DownloadContainer>   \r\n     </ParallaxLayer>\r\n\r\n</Parallax>\r\n  \r\n);\r\n}\r\n\r\nexport default ConsumoAnual;","import React from 'react';\r\nimport { Switch } from 'react-router-dom';\r\nimport Route from './Route';\r\n\r\nimport HomePage from '../pages/HomePage'\r\nimport ConsumoSemanal from '../pages/ConsumoSemanal'\r\nimport ConsumoMensal from '../pages/ConsumoMensal'\r\nimport ConsumoAnual from '../pages/ConsumoAnual'\r\n\r\nexport default function Routes() {\r\n  return (\r\n    <Switch>\r\n      <Route path=\"/\" exact component={HomePage} />\r\n      <Route path=\"/semanal\" component={ConsumoSemanal}/>\r\n      <Route path=\"/mensal\" component={ConsumoMensal}/>\r\n      <Route path=\"/anual\" component={ConsumoAnual}/>\r\n\r\n      <Route path=\"/\" component={() => <h1>404 - Page not found</h1>} />\r\n    </Switch>\r\n  );\r\n}\r\n","import { createBrowserHistory } from 'history';\n\nconst history = createBrowserHistory();\n\nexport default history;\n","import produce from 'immer';\n\nconst INITIAL_STATE = {\n  token: null,\n  signed: false,\n  loading: false,\n};\n\nexport default function auth(state = INITIAL_STATE, action) {\n  return produce(state, draft => {\n    switch (action.type) {\n      case '@auth/SIGN_IN_REQUEST': {\n        draft.loading = true;\n        break;\n      }\n      case '@auth/SIGN_IN_SUCCESS': {\n        draft.token = action.payload.token;\n        draft.signed = true;\n        draft.loading = false;\n        break;\n      }\n      case '@auth/SIGN_FAILURE': {\n        draft.loading = false;\n        break;\n      }\n      case '@auth/SIGN_OUT': {\n        draft.token = null;\n        draft.signed = false;\n        break;\n      }\n      default:\n    }\n  });\n}\n","import produce from 'immer';\n\nconst INITIAL_STATE = {\n  profile: null,\n};\n\nexport default function user(state = INITIAL_STATE, action) {\n  return produce(state, draft => {\n    switch (action.type) {\n      case '@auth/SIGN_IN_SUCCESS': {\n        draft.profile = action.payload.user;\n        break;\n      }\n      case '@user/UPDATE_PROFILE_SUCCESS': {\n        draft.profile = action.payload.profile;\n        break;\n      }\n      case '@auth/SIGN_OUT': {\n        draft.profile = null;\n        break;\n      }\n      default:\n    }\n  });\n}\n","import { combineReducers } from 'redux';\n\nimport auth from './auth/reducer';\nimport user from './user/reducer';\n\nexport default combineReducers({\n  auth,\n  user,\n});\n","import { takeLatest, call, put, all } from 'redux-saga/effects';\nimport { toast } from 'react-toastify';\nimport history from '../../../services/history';\nimport api from '../../../services/api';\n\nimport { signInSuccess, signFailure } from './actions';\n\nexport function* signIn({ payload }) {\n  try {\n    const { email, password } = payload;\n    const response = yield call(api.post, 'sessions', {\n      email,\n      password,\n    });\n\n    const { token, user } = response.data;\n\n    if (!user.admin) {\n      toast.error('Serviço somente para administrador');\n      yield put(signFailure());\n      return;\n    }\n\n    api.defaults.headers.Authorization = `Bearer ${token}`;\n\n    yield put(signInSuccess(token, user));\n\n    history.push('/dashboard');\n  } catch (err) {\n    toast.error('Falha na autenticação, verifique seus dados');\n    yield put(signFailure());\n  }\n}\n\nexport function* signUp({ payload }) {\n  try {\n    const { name, email, password } = payload;\n\n    yield call(api.post, 'users', {\n      name,\n      email,\n      password,\n      admin: true,\n    });\n\n    history.push('/');\n  } catch (err) {\n    console.log(err);\n    toast.error('Falha no cadastro, verifique seus dados');\n\n    yield put(signFailure());\n  }\n}\n\nexport function setToken({ payload }) {\n  if (!payload) return;\n\n  const { token } = payload.auth;\n\n  if (token) api.defaults.headers.Authorization = `Bearer ${token}`;\n}\n\nexport function signOut() {\n  history.push('/');\n}\n\nexport default all([\n  takeLatest('persist/REHYDRATE', setToken),\n  takeLatest('@auth/SIGN_IN_REQUEST', signIn),\n  takeLatest('@auth/SIGN_UP_REQUEST', signUp),\n  takeLatest('@auth/SIGN_OUT', signOut),\n]);\n","export function updateProfileRequest(data) {\n  return {\n    type: '@user/UPDATE_PROFILE_REQUEST',\n    payload: { data },\n  };\n}\n\nexport function updateProfileSuccess(profile) {\n  return {\n    type: '@user/UPDATE_PROFILE_SUCCESS',\n    payload: { profile },\n  };\n}\n\nexport function updateProfileFailure() {\n  return {\n    type: '@user/UPDATE_PROFILE_FAILURE',\n  };\n}\n","import { takeLatest, call, put, all } from 'redux-saga/effects';\nimport { toast } from 'react-toastify';\n\nimport api from '~/services/api';\n\nimport { updateProfileSuccess, updateProfileFailure } from './actions';\n\nexport function* updateProfile({ payload }) {\n  try {\n    const { name, email, avatar_id, ...rest } = payload.data;\n\n    const profile = {\n      name, email, avatar_id,\n      ...(rest.oldPassword ? rest : {})\n    };\n\n    const response = yield call(api.put, 'users', profile);\n\n    toast.success('Perfil atualizado com sucesso!');\n\n    yield put(updateProfileSuccess(response.data));\n  } catch (err) {\n    toast.error('Erro ao atualizar perfil, confira seus dados!');\n    yield put(updateProfileFailure());\n  }\n}\n\nexport default all([takeLatest('@user/UPDATE_PROFILE_REQUEST', updateProfile)]);\n","import { all } from 'redux-saga/effects';\n\nimport auth from './auth/sagas';\nimport user from './user/sagas';\n\nexport default function* rootSaga() {\n  return yield all([auth, user]);\n}\n","import { persistStore } from 'redux-persist';\nimport createSagaMiddleware from 'redux-saga';\nimport createStore from './createStore';\nimport persistReducers from './persistReducers';\n\nimport rootReducer from './modules/rootReducer';\nimport rootSaga from './modules/rootSaga';\n\nconst sagaMonitor =\n  process.env.NODE_ENV === 'development'\n    ? console.tron.createSagaMonitor()\n    : null;\n\nconst sagaMiddleware = createSagaMiddleware({ sagaMonitor });\n\nconst middlewares = [sagaMiddleware];\n\nconst store = createStore(persistReducers(rootReducer), middlewares);\nconst persistor = persistStore(store);\n\nsagaMiddleware.run(rootSaga);\n\nexport { store, persistor };\n","import storage from 'redux-persist/lib/storage';\nimport { persistReducer } from 'redux-persist';\n\nexport default reducers => {\n  const persistedReducer = persistReducer(\n    {\n      key: 'gymlifeWeb',\n      storage,\n      whitelist: ['auth', 'user'],\n    },\n    reducers\n  );\n\n  return persistedReducer;\n};\n","import { createStore, compose, applyMiddleware } from 'redux';\n\nexport default (reducers, middlewares) => {\n  const enhancer =\n    process.env.NODE_ENV === 'development'\n      ? compose(console.tron.createEnhancer(), applyMiddleware(...middlewares))\n      : applyMiddleware(...middlewares);\n\n  return createStore(reducers, enhancer);\n};\n","import { createGlobalStyle } from 'styled-components';\n\nimport 'react-perfect-scrollbar/dist/css/styles.css';\nimport 'react-toastify/dist/ReactToastify.css';\n\nexport default createGlobalStyle`\n  @import url('https://fonts.googleapis.com/css?family=Roboto:400,700&display=swap');\n\n  * {\n    margin: 0;\n    padding: 0;\n    outline: 0;\n    box-sizing: border-box;\n  }\n\n  *:focus {\n    outline: 0;\n  }\n\n  html, body, #root {\n    height: 100%;\n  }\n\n  body {\n    background: linear-gradient(-90deg, #8181F7, #CECEF6, #E0E6F8);\n    -webkit-font-smoothing: antialised;\n  }\n\n  body, input, button {\n    font: 14px 'Roboto', sans-serif;\n  }\n\n  a {\n    text-decoration: none;\n  }\n\n  ul {\n    list-style: none;\n  }\n\n  button {\n    cursor: pointer;\n  }\n`;\n","import React from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport { Provider } from 'react-redux';\nimport { Router } from 'react-router-dom';\n\nimport './config/reactotronConfig';\n\nimport Routes from './routes';\nimport history from './services/history';\n\nimport { store, persistor } from './store';\n\nimport GlobalStyle from './styles/global';\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <PersistGate persistor={persistor}>\n        <Router history={history}>\n          <Routes />\n          <GlobalStyle />\n          <ToastContainer autoClose={3000} />\n        </Router>\n      </PersistGate>\n    </Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}